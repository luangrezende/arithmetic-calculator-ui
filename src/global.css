@import './components/scrollbar/styles.css';
@import './components/chart/styles.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: light;
    --transition-theme: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                       color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                       border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .dark {
    color-scheme: dark;
  }
  
  * {
    box-sizing: border-box;
  }
  
  html {
    scroll-behavior: smooth;
    transition: var(--transition-theme);
  }
  
  body {
    transition: var(--transition-theme);
  }
  
  .theme-transition,
  .theme-transition * {
    transition: var(--transition-theme);
  }
  
  button:focus,
  button:active,
  button:focus-visible,
  button:focus-within,
  button[data-focus],
  button[data-focus-visible] {
    outline: none !important;
    box-shadow: none !important;
    border-color: transparent !important;
  }
  
  button::selection,
  button::-moz-selection {
    background: transparent !important;
  }
  
  button {
    -webkit-tap-highlight-color: transparent !important;
    -webkit-user-select: none !important;
    -moz-user-select: none !important;
    -ms-user-select: none !important;
    user-select: none !important;
  }
}

@layer components {
  .layout__root {
    @apply min-h-screen;
  }
  
  .layout__main {
    @apply flex flex-1 flex-col;
  }
  
  .layout__main__content {
    @apply flex flex-1 flex-col;
  }
  
  .layout__header {
    @apply shrink-0;
  }
  
  .layout__has__sidebar {
    @apply lg:pl-[var(--layout-nav-vertical-width)];
  }
  
  @media (max-width: 640px) {
    .layout__main__content {
      @apply min-h-0;
    }
  }

  [data-radix-popper-content-wrapper] {
    z-index: 9999 !important;
  }
  
  [data-radix-tooltip-content] {
    transform-origin: var(--radix-tooltip-content-transform-origin);
    animation: none !important;
  }
  
  [data-radix-tooltip-arrow] {
    fill: currentColor !important;
    z-index: 9999 !important;
  }

  @keyframes loading-bar {
    0% {
      transform: translateX(-100%);
      width: 0%;
    }
    50% {
      transform: translateX(0%);
      width: 100%;
    }
    100% {
      transform: translateX(100%);
      width: 0%;
    }
  }

  @keyframes fadeSlideIn {
    0% {
      opacity: 0;
      transform: translateY(-8px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes fadeSlideInMobile {
    0% {
      opacity: 0;
      transform: translateX(-66.666667%) translateY(-8px);
    }
    100% {
      opacity: 1;
      transform: translateX(-66.666667%) translateY(0);
    }
  }

  .balance-popover {
    animation: fadeSlideInMobile 0.3s ease-out forwards;
  }

  @media (min-width: 640px) {
    .balance-popover {
      animation: fadeSlideIn 0.3s ease-out forwards;
    }
  }

  .animate-loading-bar {
    animation: loading-bar 2s linear infinite;
    width: 0%;
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  select {
    background-image: none !important;
  }

  select option {
    padding: 8px 12px;
    font-weight: 500;
    line-height: 1.5;
  }

  .modern-select {
    position: relative;
  }

  .modern-select::after {
    content: '';
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%) rotate(0deg);
    width: 12px;
    height: 12px;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-size: 100% 100%;
    pointer-events: none;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .modern-select:focus-within::after {
    transform: translateY(-50%) rotate(180deg);
  }

  .dark .modern-select::after {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23e5e7eb' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
  }
}
